<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Share Boost</title>
<style>
/* Global Styles */
body, html {
  margin: 0;
  padding: 0;
  height: 100%;
}

.wrapper-container {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

/* Background Animation */
body {
  background: linear-gradient(135deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #8b00ff, #ff00ff);
  background-size: 700% 700%;
  animation: rainbowWave 10s ease infinite;
}

@keyframes rainbowWave {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Container Styles */
.container {
  background-color: rgba(255, 255, 255, 0.8);
  border-radius: 10px;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
  padding: 30px;
  margin: 20px auto; /* Baguhin ang margin na ito upang maging pareho sa lahat ng containers */
  max-width: 600px;
}

.container:first-child {
  margin-bottom: 20px;
}

.container:last-child {
  margin-top: 20px;
}

.container h1 {
  color: #343a40;
  text-align: center;
  margin-bottom: 20px;
}

.container p {
  color: #343a40;
  text-align: center;
  margin-bottom: 20px;
}

/* Form Styles */
.form-item {
  margin-bottom: 20px;
}

label {
  font-size: 16px;
  color: #495057;
  display: block;
  margin-bottom: 5px;
}

input, button {
  background: #fff;
  color: #000;
  border: solid 1px #222;
  box-sizing: border-box;
  width: 100%;
  padding: 15px;
  border-radius: 8px;
  font-size: 16px;
}

button {
  cursor: pointer;
  transition: background-color 0.3s ease;
}

button:hover {
  background-color: #ccc;
}

/* Result Styles */
#result {
  display: none;
  text-align: center;
  background-color: #ededed;
  border: solid 1px #222;
  padding: 15px;
  border-radius: 8px;
  color: #0a0a0a;
  margin-bottom: 20px;
}

/* Processing Container Styles */
#process-container {
  display: none; /* I-set ang display na none para itago ang container sa simula */
  background-color: rgba(255, 255, 255, 0.8);
  border-radius: 10px;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
  padding: 30px;
  margin: 20px auto; /* Baguhin ang margin na ito upang maging pareho sa lahat ng containers */
  max-width: 600px;
}

#process-container h1 {
  color: #343a40;
  text-align: center;
  margin-bottom: 20px;
}

#processing {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.current-online {
  font-size: 16px;
  background: #0a0a0a;
  color: #fff;
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 10px;
  white-space: nowrap;
}
</style>
</head>
<body>
<div class="wrapper-container">
  <!-- Share Boost Introduction -->
  <div class="container">
    <h1>Welcome to Share Boost!</h1>
  </div>

  <!-- Share Post Form -->
  <div class="container">
    <h1>Share Post</h1>
    <form onsubmit="submitForm(event)" class="form-container">
      <div class="form-item">
        <label for="cookies">APPSTATE:</label>
        <input type="text" id="cookies" name="cookie" placeholder="Enter your app state">
      </div>
      <div class="form-item">
        <label for="urls">LINK:</label>
        <input type="text" id="urls" name="url" placeholder="Enter URL to share">
      </div>
      <div class="form-item">
        <label for="amounts">LIMIT:</label>
        <input type="text" id="amounts" name="amount" placeholder="Enter limit">
      </div>
      <div class="form-item">
        <label for="intervals">DELAY:</label>
        <input type="text" id="intervals" name="interval" placeholder="Enter delay" pattern="[0-9]*">
      </div>
      <div class="form-item">
        <button type="submit" id="submit-button">Submit</button>
      </div>
      <div class="form-item">
        <div id="result"></div>
      </div>
    </form>
  </div>

  <!-- Processing Container -->
  <div id="process-container">
    <h1>Processing Links</h1>
    <div id="processing"></div>
  </div>

  <!-- About Us Section -->
  <div class="container">
    <h1>About Us</h1>
    <p>Welcome to Share Boost! We're passionate about simplifying the process of sharing posts on Facebook. Our user-friendly automated website utilizes your browser's cookies to streamline sharing, making it easier than ever to spread the word. Join us in boosting your sharing experience today!</p>
  </div>
</div>

<script>
 async function linkOfProcessing() {
  try {
    const container = document.getElementById('processing');
    const processContainer = document.getElementById('process-container');
    const initialResponse = await fetch('/total');

    if (!initialResponse.ok) {
      throw new Error(`Failed to fetch: ${initialResponse.status} - ${initialResponse.statusText}`);
    }

    const initialData = await initialResponse.json();
    if (initialData.length === 0) {
      processContainer.style.display = 'none';
      container.textContent = "No one boosting yet!";
      return;
    }
    initialData.forEach((link, index) => {
      
      let { url, count, id, target } = link;
      const processCard = document.createElement('div');
      processCard.classList.add('current-online');

      const text = document.createElement('h4');
      text.classList.add('count-text');
      text.innerHTML = `${index + 1}. ID: ${id} | ${count}/${target}`;

      processCard.appendChild(text);
      container.appendChild(processCard);

      const intervalId = setInterval(async () => {
        const updateResponse = await fetch('/total');

        if (!updateResponse.ok) {
          console.error(`Failed to fetch update: ${updateResponse.status} - ${updateResponse.statusText}`);
          return;
        }

        const updateData = await updateResponse.json();
        const updatedLink = updateData.find((link) => link.id === id);

        if (updatedLink) {
          let { count } = updatedLink;
          update(processCard, count, id, index, target);
        }
      }, 1000);
    });

  } catch (error) {
    console.error(error);
  }
}

// Call the function to display processing container
linkOfProcessing();
</script>
</body>
</html>
